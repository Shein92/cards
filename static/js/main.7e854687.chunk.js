(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{11:function(e,t,a){e.exports={inputStyle:"Input_inputStyle__HrqX8"}},17:function(e,t,a){e.exports={btn:"Button_btn__1bX-5"}},32:function(e,t,a){e.exports={registration:"Registration_registration__1Zql-"}},42:function(e,t,a){e.exports={navigation:"Header_navigation__21bQ6"}},44:function(e,t,a){e.exports={login:"Login_login__1Sbfj"}},47:function(e,t,a){e.exports={newPass:"NewPass_newPass__3VXDM"}},48:function(e,t,a){e.exports={pageNotFound:"PageNotFound_pageNotFound__2VX4Q"}},49:function(e,t,a){e.exports={profile:"Profile_profile__2OmDN"}},50:function(e,t,a){e.exports={resetPass:"ResetPass_resetPass__3iysc"}},51:function(e,t,a){e.exports={restorePass:"RestorePass_restorePass__CaEjC"}},53:function(e,t,a){e.exports=a(83)},58:function(e,t,a){},59:function(e,t,a){},82:function(e,t,a){e.exports=a.p+"static/media/Spinner.00a2f96b.svg"},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),l=a.n(s),o=(a(58),a(13)),i=(a(59),a(4)),c=function(e){return r.a.createElement("div",null,r.a.createElement(o.b,{to:e.to},e.title))},u=a(42),d=a.n(u),m=a(1),p=a(2),E=a(16),b=a.n(E),f=b.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),w=function(e){return f.post("/auth/login",e)},v=function(){return f.post("/auth/me",{})},g=function(){return f.delete("/auth/me",{})},h={isLogged:!1,isLoading:!1},P=function(e){return{type:"login/SET-IS-LOGGED",value:e}},O=function(e){return{type:"login/SET-IS-LOADING",value:e}},j={_id:"",email:"",name:"",publicCardPacksCount:NaN,created:null,updated:null,verified:!1,rememberMe:!1,error:""},y=function(e){return{type:"profile/SET-UP-PROFILE",data:e}},R=function(){return function(e){e(O(!0)),v().then((function(t){e(O(!1)),e(y(t.data)),e(P(!0))})).catch((function(t){e(O(!1))}))}},N={isLogged:!1,error:""},S=function(e){return{type:"login/SET-ERROR-LOGIN",error:e}},_=function(){var e=Object(m.c)((function(e){return e.app.isLogged})),t=Object(m.b)();return r.a.createElement("nav",{className:d.a.navigation},e?r.a.createElement("button",{onClick:function(){t((function(e){e(O(!0)),g().then((function(t){e(O(!1)),e(P(!1))})).catch((function(t){e(O(!1)),e(S(t.message))}))}))}},"Logout"):r.a.createElement(c,{to:"/login",title:"Login"}),r.a.createElement(c,{to:"/newPassword",title:"New password"}),r.a.createElement(c,{to:"/restorePassword",title:"Restore password"}),r.a.createElement(c,{to:"/profile",title:"Profile"}),r.a.createElement(c,{to:"/resetPassword",title:"Reset password"}),r.a.createElement(c,{to:"/registration",title:"Registration"}))},A=a(44),k=a.n(A),L=a(11),C=a.n(L),x=a(17),T=a.n(x),I=a(18),G=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:a(82),alt:"spinner loading"}))},q=r.a.memo((function(e){var t=Object(m.c)((function(e){return e.app.isLogged})),a=Object(m.c)((function(e){return e.login.error})),s=Object(m.c)((function(e){return e.app.isLoading})),l=Object(m.b)();Object(n.useEffect)((function(){l(R())}),[]);var o=Object(I.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",t},onSubmit:function(e){var t;l((t=e,function(e){e(O(!0)),w(t).then((function(t){e(O(!1)),e(y(t.data)),e(P(!0))})).catch((function(t){e(O(!1)),e(S(t.message))}))}))}});return t?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:k.a.login},s&&r.a.createElement(G,null),r.a.createElement("h2",null,"Login Page"),r.a.createElement("form",{onSubmit:o.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:C.a.inputStyle,name:"email",type:"text",placeholder:"E-mail"},o.getFieldProps("email"))),o.values.email?r.a.createElement("div",{style:{color:"red"}},o.errors.email):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:C.a.inputStyle,name:"password",type:"password",placeholder:"Password"},o.getFieldProps("password"))),o.values.password?r.a.createElement("div",{style:{color:"red"}},o.errors.password):null),r.a.createElement("div",null,r.a.createElement("span",null,"Remember Me "),r.a.createElement("input",Object.assign({type:"checkbox"},o.getFieldProps("rememberMe"),{checked:o.values.rememberMe}))),r.a.createElement("div",null,r.a.createElement("button",{className:T.a.btn,type:"submit",disabled:s},"Login"))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,a&&r.a.createElement("div",null," $",a," ")))})),F=function(){Object(m.c)((function(e){return e.login})),Object(m.b)();return r.a.createElement(q,null)},Z=a(47),U=a.n(Z),H=function(e){return r.a.createElement("div",{className:U.a.newPass},r.a.createElement("h2",null,"New Password Page"))},D=function(){Object(m.c)((function(e){return e.newPassword})),Object(m.b)();return r.a.createElement(H,null)},$=a(48),M=a.n($),V=function(){return r.a.createElement(i.b,{exact:!0,path:"/"})?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",{className:M.a.pageNotFound},r.a.createElement("h2",null,r.a.createElement("div",null,r.a.createElement("span",null,"PAGE NOT FOUND")),r.a.createElement("div",null,r.a.createElement("span",null,"404 ERROR!"))))},W=b.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),X=function(e,t){return W.post("auth/set-new-password",{password:e,resetPasswordToken:t})},B={answer:"",isRestored:!1},J=function(e){return{type:"restore/CHANGE-STATUS",isRestored:e}},Q=a(49),Y=a.n(Q),z=function(e){var t=Object(m.c)((function(e){return e.app.isLogged})),a=Object(m.c)((function(e){return e.profile})),s=Object(m.c)((function(e){return e.app.isLoading})),l=Object(m.b)();return Object(n.useEffect)((function(){l(R())}),[]),t?r.a.createElement("div",{className:Y.a.profile},s&&r.a.createElement(G,null),r.a.createElement("div",null,"Email: ",a.email),r.a.createElement("div",null,"Name: ",a.name),r.a.createElement("div",null,"Created: ",a.created),r.a.createElement("div",null,"publicCardPacksCount: ",a.publicCardPacksCount)):r.a.createElement(i.a,{to:"/login"})},K=function(){var e=Object(m.c)((function(e){return e.restorePassword.isRestored})),t=Object(m.b)();return e&&t(J(!1)),r.a.createElement(z,null)},ee=a(32),te=a.n(ee),ae=b.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),ne=function(e){return ae.post("auth/register",{email:e.email,password:e.password})},re={isRegistred:!1},se=function(e){var t=Object(m.c)((function(e){return e.registration.isRegistred})),a=Object(m.c)((function(e){return e.app.isLoading})),n=Object(m.b)(),s=Object(I.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.repeatPassword?e.repeatPassword.length<7&&(t.repeatPassword="Password must equal or be more than 7 characters"):t.repeatPassword="Required",e.password!==e.repeatPassword&&(t.repeatPassword="Password should be the same!"),t},onSubmit:function(e){var t;n((t={email:e.email,password:e.password},function(e){e(O(!0)),ne(t).then((function(t){e(O(!1)),e({type:"CREATE-REGISTRATION",value:!0})})).catch((function(t){e(O(!1))}))}))}});return t?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:te.a.registration},a&&r.a.createElement(G,null),r.a.createElement("h2",null,"Registration Page"),r.a.createElement("div",{className:te.a.login},r.a.createElement("form",{onSubmit:s.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:C.a.inputStyle,type:"text",placeholder:"E-mail",name:"email"},s.getFieldProps("email"))),s.values.email?r.a.createElement("div",{style:{color:"red"}},s.errors.email):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:C.a.inputStyle,type:"password",placeholder:"Password",name:"password"},s.getFieldProps("password"))),s.values.password?r.a.createElement("div",{style:{color:"red"}},s.errors.password):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:C.a.inputStyle,type:"password",placeholder:"Password",name:"repeatPassword"},s.getFieldProps("repeatPassword"))),s.values.repeatPassword?r.a.createElement("div",{style:{color:"red"}},s.errors.repeatPassword):null),r.a.createElement("div",null,r.a.createElement("button",{className:T.a.btn,type:"submit",disabled:s.values.password!==s.values.repeatPassword},"Registration")))))},le=function(){Object(m.c)((function(e){return e.registration})),Object(m.b)();return r.a.createElement(se,null)},oe=b.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),ie=function(e){return oe.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n            \tpassword recovery link: \n            \t<a href='http://localhost:3000/cards#/restorePassword/$token$'>\n            \tlink</a></div>"})},ce={answer:"",isReseted:!1},ue=function(e){return{type:"reset/CHANGE-ANSWER",answer:e}},de=a(50),me=a.n(de),pe=r.a.memo((function(){var e=Object(m.c)((function(e){return e.resetPassword.answer})),t=Object(m.c)((function(e){return e.resetPassword.isReseted})),a=Object(m.b)(),n=Object(I.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",t},onSubmit:function(e){var t;a((t=e.email,function(e){e(O(!0)),ie(t).then((function(t){e(O(!1)),e(ue(t.data.info))})).catch((function(t){e(O(!1)),e(ue(t.message)),console.log(t)}))}))}});return t?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:me.a.resetPass},r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement("div",null,r.a.createElement("span",null,"Your email adress: ")),r.a.createElement("input",{className:C.a.inputStyle,name:"email",type:"text",placeholder:"E-mail",onChange:n.handleChange,value:n.values.email}),n.values.email?r.a.createElement("div",{style:{color:"red"}},n.errors.email):null,r.a.createElement("div",null,r.a.createElement("button",{className:T.a.btn,type:"submit"},"Submit"))),e)})),Ee=a(51),be=a.n(Ee),fe=r.a.memo((function(){var e=Object(m.c)((function(e){return e.restorePassword.answer})),t=Object(m.c)((function(e){return e.restorePassword.isRestored})),a=Object(m.c)((function(e){return e.app.isLoading})),n=Object(m.b)(),s=Object(i.g)().token,l=Object(I.a)({initialValues:{password:"",secondPassword:""},validate:function(e){var t={};return e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.secondPassword?e.secondPassword.length<7&&(t.secondPassword="Password must be equal or more than 7 characters"):t.secondPassword="Required",e.password!==e.secondPassword&&(t.secondPassword="Password should be the same!"),t},onSubmit:function(e){n(function(e,t){return function(a){a(O(!0)),X(e,t).then((function(e){a(O(!1)),a({type:"restore/CHANGE-ANSWER",answer:e.data.info}),a(J(!0))})).catch((function(e){a(O(!1)),console.log(e.error)}))}}(e.password,s))}});return t?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:be.a.restorePass,style:{textAlign:"center"}},a&&r.a.createElement(G,null),r.a.createElement("form",{onSubmit:l.handleSubmit},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Password: ")),r.a.createElement("input",{className:C.a.inputStyle,type:"password",name:"password",placeholder:"Password",onChange:l.handleChange,value:l.values.password}),l.values.password?r.a.createElement("div",{style:{color:"red"}},l.errors.password):null),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Repeat password")),r.a.createElement("input",{className:C.a.inputStyle,type:"password",name:"secondPassword",placeholder:"Password",onChange:l.handleChange,value:l.values.secondPassword}),l.values.secondPassword?r.a.createElement("div",{style:{color:"red"}},l.errors.secondPassword):null),r.a.createElement("div",null,r.a.createElement("button",{className:T.a.btn,type:"submit",disabled:l.values.password!==l.values.secondPassword},"Send"))),r.a.createElement("div",null,e))})),we=function(){return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(i.b,{path:"/newPassword",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(i.b,{path:"/restorePassword/:token",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(i.b,{path:"/resetPassword",render:function(){return r.a.createElement(pe,null)}}),r.a.createElement(i.b,{path:"/profile",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(i.b,{path:"/registration",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(i.b,{render:function(){return r.a.createElement(V,null)}})))},ve=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(we,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge={},he=a(21),Pe=a(52),Oe=Object(he.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-ERROR-LOGIN":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET-UP-PROFILE":return Object(p.a)(Object(p.a)({},e),t.data);default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE-REGISTRATION":return Object(p.a)(Object(p.a)({},e),{},{isRegistred:t.value});default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restore/CHANGE-ANSWER":return Object(p.a)(Object(p.a)({},e),{},{answer:t.answer});default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset/CHANGE-ANSWER":return Object(p.a)(Object(p.a)({},e),{},{answer:t.answer});case"reset/CHANGE-STATUS":return Object(p.a)(Object(p.a)({},e),{},{isReseted:t.isReseted});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED":return Object(p.a)(Object(p.a)({},e),{},{isLogged:t.value});case"login/SET-IS-LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.value});default:return e}}}),je=Object(he.d)(Oe,Object(he.a)(Pe.a));l.a.render(r.a.createElement(m.a,{store:je},r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.7e854687.chunk.js.map