(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{12:function(e,t,a){e.exports={inputStyle:"Input_inputStyle__HrqX8"}},18:function(e,t,a){e.exports={btn:"Button_btn__1bX-5"}},32:function(e,t,a){e.exports={registration:"Registration_registration__1Zql-"}},42:function(e,t,a){e.exports={navigation:"Header_navigation__21bQ6"}},44:function(e,t,a){e.exports={login:"Login_login__1Sbfj"}},47:function(e,t,a){e.exports={newPass:"NewPass_newPass__3VXDM"}},48:function(e,t,a){e.exports={pageNotFound:"PageNotFound_pageNotFound__2VX4Q"}},49:function(e,t,a){e.exports={profile:"Profile_profile__2OmDN"}},50:function(e,t,a){e.exports={resetPass:"ResetPass_resetPass__3iysc"}},51:function(e,t,a){e.exports={restorePass:"RestorePass_restorePass__CaEjC"}},54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},60:function(e,t,a){},83:function(e,t,a){e.exports=a.p+"static/media/Spinner.00a2f96b.svg"},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),s=a.n(l),c=(a(59),a(11)),o=(a(60),a(4)),i=function(e){return r.a.createElement("div",null,r.a.createElement(c.b,{to:e.to},e.title))},u=a(42),d=a.n(u),m=a(1),p=a(2),E=a(17),f=a.n(E),b=f.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),v=function(e){return b.post("/auth/login",e)},h=function(){return b.post("/auth/me",{})},w=function(){return b.delete("/auth/me",{})},g=function(){return b.get("/cards/pack")},P=function(e){return b.post("/cards/pack",{cardsPack:e})},O=function(e){return b.delete("/cards/pack?id=".concat(e))},j={isLogged:!1,isLoading:!1},N=function(e){return{type:"login/SET-IS-LOGGED",value:e}},y=function(e){return{type:"login/SET-IS-LOADING",value:e}},R={_id:"",email:"",name:"",publicCardPacksCount:NaN,created:null,updated:null,verified:!1,rememberMe:!1,error:""},S=function(e){return{type:"profile/SET-UP-PROFILE",data:e}},C=function(){return function(e){e(y(!0)),h().then((function(t){e(y(!1)),e(S(t.data)),e(N(!0))})).catch((function(t){e(y(!1))}))}},k={isLogged:!1,error:""},_=function(e){return{type:"login/SET-ERROR-LOGIN",error:e}},A=function(){var e=Object(m.c)((function(e){return e.app.isLogged})),t=Object(m.b)();return r.a.createElement("nav",{className:d.a.navigation},e?r.a.createElement("button",{onClick:function(){t((function(e){e(y(!0)),w().then((function(t){e(y(!1)),e(N(!1))})).catch((function(t){e(y(!1)),e(_(t.message))}))}))}},"Logout"):r.a.createElement(i,{to:"/login",title:"Login"}),r.a.createElement(i,{to:"/newPassword",title:"New password"}),r.a.createElement(i,{to:"/restorePassword",title:"Restore password"}),r.a.createElement(i,{to:"/profile",title:"Profile"}),r.a.createElement(i,{to:"/cards",title:"Cards"}),r.a.createElement(i,{to:"/resetPassword",title:"Reset password"}),r.a.createElement(i,{to:"/registration",title:"Registration"}))},L=a(44),x=a.n(L),T=a(12),G=a.n(T),I=a(18),F=a.n(I),q=a(14),D=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:a(83),alt:"spinner loading"}))},U=r.a.memo((function(e){var t=Object(m.c)((function(e){return e.app.isLogged})),a=Object(m.c)((function(e){return e.login.error})),l=Object(m.c)((function(e){return e.app.isLoading})),s=Object(m.b)();Object(n.useEffect)((function(){s(C())}),[]);var c=Object(q.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",t},onSubmit:function(e){var t;s((t=e,function(e){e(y(!0)),v(t).then((function(t){e(y(!1)),e(S(t.data)),e(N(!0))})).catch((function(t){e(y(!1)),e(_(t.message))}))}))}});return t?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:x.a.login},l&&r.a.createElement(D,null),r.a.createElement("h2",null,"Login Page"),r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:G.a.inputStyle,name:"email",type:"text",placeholder:"E-mail"},c.getFieldProps("email"))),c.values.email?r.a.createElement("div",{style:{color:"red"}},c.errors.email):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:G.a.inputStyle,name:"password",type:"password",placeholder:"Password"},c.getFieldProps("password"))),c.values.password?r.a.createElement("div",{style:{color:"red"}},c.errors.password):null),r.a.createElement("div",null,r.a.createElement("span",null,"Remember Me "),r.a.createElement("input",Object.assign({type:"checkbox"},c.getFieldProps("rememberMe"),{checked:c.values.rememberMe}))),r.a.createElement("div",null,r.a.createElement("button",{className:F.a.btn,type:"submit",disabled:l},"Login"))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,a&&r.a.createElement("div",null," $",a," ")))})),Z=function(){Object(m.c)((function(e){return e.login})),Object(m.b)();return r.a.createElement(U,null)},M=a(47),V=a.n(M),H=function(e){return r.a.createElement("div",{className:V.a.newPass},r.a.createElement("h2",null,"New Password Page"))},$=function(){Object(m.c)((function(e){return e.newPassword})),Object(m.b)();return r.a.createElement(H,null)},W=a(48),X=a.n(W),B=function(){return r.a.createElement(o.b,{exact:!0,path:"/"})?r.a.createElement(o.a,{to:"/login"}):r.a.createElement("div",{className:X.a.pageNotFound},r.a.createElement("h2",null,r.a.createElement("div",null,r.a.createElement("span",null,"PAGE NOT FOUND")),r.a.createElement("div",null,r.a.createElement("span",null,"404 ERROR!"))))},J=f.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),K=function(e,t){return J.post("auth/set-new-password",{password:e,resetPasswordToken:t})},Q={answer:"",isRestored:!1},Y=function(e){return{type:"restore/CHANGE-STATUS",isRestored:e}},z=a(49),ee=a.n(z),te=function(e){var t=Object(m.c)((function(e){return e.app.isLogged})),a=Object(m.c)((function(e){return e.profile})),l=Object(m.c)((function(e){return e.app.isLoading})),s=Object(m.b)();return Object(n.useEffect)((function(){s(C())}),[]),t?r.a.createElement("div",{className:ee.a.profile},l&&r.a.createElement(D,null),r.a.createElement("div",null,"Email: ",a.email),r.a.createElement("div",null,"Name: ",a.name),r.a.createElement("div",null,"Created: ",a.created),r.a.createElement("div",null,"publicCardPacksCount: ",a.publicCardPacksCount)):r.a.createElement(o.a,{to:"/login"})},ae=function(){var e=Object(m.c)((function(e){return e.restorePassword.isRestored})),t=Object(m.b)();return e&&t(Y(!1)),r.a.createElement(te,null)},ne=a(32),re=a.n(ne),le=f.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),se=function(e){return le.post("auth/register",{email:e.email,password:e.password})},ce={isRegistred:!1},oe=function(e){var t=Object(m.c)((function(e){return e.registration.isRegistred})),a=Object(m.c)((function(e){return e.app.isLoading})),n=Object(m.b)(),l=Object(q.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.repeatPassword?e.repeatPassword.length<7&&(t.repeatPassword="Password must equal or be more than 7 characters"):t.repeatPassword="Required",e.password!==e.repeatPassword&&(t.repeatPassword="Password should be the same!"),t},onSubmit:function(e){var t;n((t={email:e.email,password:e.password},function(e){e(y(!0)),se(t).then((function(t){e(y(!1)),e({type:"CREATE-REGISTRATION",value:!0})})).catch((function(t){e(y(!1))}))}))}});return t?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:re.a.registration},a&&r.a.createElement(D,null),r.a.createElement("h2",null,"Registration Page"),r.a.createElement("div",{className:re.a.login},r.a.createElement("form",{onSubmit:l.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:G.a.inputStyle,type:"text",placeholder:"E-mail",name:"email"},l.getFieldProps("email"))),l.values.email?r.a.createElement("div",{style:{color:"red"}},l.errors.email):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:G.a.inputStyle,type:"password",placeholder:"Password",name:"password"},l.getFieldProps("password"))),l.values.password?r.a.createElement("div",{style:{color:"red"}},l.errors.password):null),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:G.a.inputStyle,type:"password",placeholder:"Password",name:"repeatPassword"},l.getFieldProps("repeatPassword"))),l.values.repeatPassword?r.a.createElement("div",{style:{color:"red"}},l.errors.repeatPassword):null),r.a.createElement("div",null,r.a.createElement("button",{className:F.a.btn,type:"submit",disabled:l.values.password!==l.values.repeatPassword},"Registration")))))},ie=function(){Object(m.c)((function(e){return e.registration})),Object(m.b)();return r.a.createElement(oe,null)},ue=f.a.create(Object(p.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),de=function(e){return ue.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n            \tpassword recovery link: \n            \t<a href='https://shein92.github.io/cards/#/restorePassword/$token$'>\n            \tlink</a></div>"})},me={answer:"",isReseted:!1},pe=function(e){return{type:"reset/CHANGE-ANSWER",answer:e}},Ee=a(50),fe=a.n(Ee),be=r.a.memo((function(){var e=Object(m.c)((function(e){return e.resetPassword.answer})),t=Object(m.c)((function(e){return e.resetPassword.isReseted})),a=Object(m.b)(),n=Object(q.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",t},onSubmit:function(e){var t;a((t=e.email,function(e){e(y(!0)),de(t).then((function(t){e(y(!1)),e(pe(t.data.info))})).catch((function(t){e(y(!1)),e(pe(t.message)),console.log(t)}))}))}});return t?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:fe.a.resetPass},r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement("div",null,r.a.createElement("span",null,"Your email adress: ")),r.a.createElement("input",{className:G.a.inputStyle,name:"email",type:"text",placeholder:"E-mail",onChange:n.handleChange,value:n.values.email}),n.values.email?r.a.createElement("div",{style:{color:"red"}},n.errors.email):null,r.a.createElement("div",null,r.a.createElement("button",{className:F.a.btn,type:"submit"},"Submit"))),e)})),ve=a(51),he=a.n(ve),we=r.a.memo((function(){var e=Object(m.c)((function(e){return e.restorePassword.answer})),t=Object(m.c)((function(e){return e.restorePassword.isRestored})),a=Object(m.c)((function(e){return e.app.isLoading})),n=Object(m.b)(),l=Object(o.g)().token,s=Object(q.a)({initialValues:{password:"",secondPassword:""},validate:function(e){var t={};return e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.secondPassword?e.secondPassword.length<7&&(t.secondPassword="Password must be equal or more than 7 characters"):t.secondPassword="Required",e.password!==e.secondPassword&&(t.secondPassword="Password should be the same!"),t},onSubmit:function(e){n(function(e,t){return function(a){a(y(!0)),K(e,t).then((function(e){a(y(!1)),a({type:"restore/CHANGE-ANSWER",answer:e.data.info}),a(Y(!0))})).catch((function(e){a(y(!1)),console.log(e.error)}))}}(e.password,l))}});return t?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:he.a.restorePass,style:{textAlign:"center"}},a&&r.a.createElement(D,null),r.a.createElement("form",{onSubmit:s.handleSubmit},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Password: ")),r.a.createElement("input",{className:G.a.inputStyle,type:"password",name:"password",placeholder:"Password",onChange:s.handleChange,value:s.values.password}),s.values.password?r.a.createElement("div",{style:{color:"red"}},s.errors.password):null),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Repeat password")),r.a.createElement("input",{className:G.a.inputStyle,type:"password",name:"secondPassword",placeholder:"Password",onChange:s.handleChange,value:s.values.secondPassword}),s.values.secondPassword?r.a.createElement("div",{style:{color:"red"}},s.errors.secondPassword):null),r.a.createElement("div",null,r.a.createElement("button",{className:F.a.btn,type:"submit",disabled:s.values.password!==s.values.secondPassword},"Send"))),r.a.createElement("div",null,e))})),ge=a(53),Pe={cardPacks:[{_id:"",user_id:"",name:"",user_name:"",path:"",grade:0,shots:0,rating:0,type:"",created:"",updated:"",__v:0}],cardPacksTotalCount:0,maxCardsCount:0,page:0,pageCount:0},Oe=function(e){var t=e.cards.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.user_name),r.a.createElement("td",null,t.rating),r.a.createElement("td",null,t.shots),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{onClick:function(){return a=t._id,void e.removeCardPack(a);var a},className:"btn waves-effect waves-light",type:"submit",name:"action"},r.a.createElement("i",{className:"material-icons"},"delete_forever"))))))}));return r.a.createElement("div",null,r.a.createElement("table",{className:"highlight"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"User Name"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Shots"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,t)))},je=function(e){var t=Object(m.b)(),a=Object(q.a)({initialValues:{name:"",path:""},onSubmit:function(e){var a;t((a=e,function(e){e(y(!0)),P(a).then((function(t){e(y(!1))})).catch((function(t){e(y(!1))}))}))}});return r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12",onSubmit:a.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",Object.assign({id:"name",name:"name",type:"text",className:"validate"},a.getFieldProps("name"))),r.a.createElement("label",{htmlFor:"name"},"Name")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",Object.assign({id:"path",name:"path",type:"text",className:"validate"},a.getFieldProps("path"))),r.a.createElement("label",{htmlFor:"path"},"Path")),r.a.createElement("div",null,r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Create",r.a.createElement("i",{className:"material-icons right"},"add"))))))},Ne=function(e){var t=Object(m.c)((function(e){return e.app.isLogged})),a=Object(m.c)((function(e){return e.app.isLoading})),l=Object(m.c)((function(e){return e.cards.cardPacks})),s=Object(n.useState)(!1),c=Object(ge.a)(s,2),i=c[0],u=c[1],d=Object(m.b)();return Object(n.useEffect)((function(){d((function(e){e(y(!0)),g().then((function(t){e(y(!1)),e({type:"cards/GET-CARDS",cards:t.data})})).catch((function(t){e(y(!1))}))}))}),[]),t?r.a.createElement("div",{className:"cards"},a&&r.a.createElement(D,null),i&&r.a.createElement(je,null),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"CARDS"),r.a.createElement("button",{onClick:function(){u(!0)},className:"btn waves-effect waves-light",type:"submit",name:"action"},"New Pack",r.a.createElement("i",{className:"material-icons right"},"add"))),r.a.createElement(Oe,{cards:l,removeCardPack:function(e){d(function(e){return function(t){t(y(!0)),O(e).then((function(a){t(y(!1)),t(function(e){return{type:"cards/REMOVE-CARD-PACK",id:e}}(e))})).catch((function(e){t(y(!1))}))}}(e))}}))):r.a.createElement(o.a,{to:"/login"})},ye=function(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/login",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(o.b,{path:"/newPassword",render:function(){return r.a.createElement($,null)}}),r.a.createElement(o.b,{path:"/restorePassword/:token",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(o.b,{path:"/resetPassword",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(o.b,{path:"/profile",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(o.b,{path:"/cards",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(o.b,{path:"/registration",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(o.b,{render:function(){return r.a.createElement(B,null)}})))},Re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(ye,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se={},Ce=a(21),ke=a(52),_e=Object(Ce.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-ERROR-LOGIN":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET-UP-PROFILE":return Object(p.a)(Object(p.a)({},e),t.data);default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE-REGISTRATION":return Object(p.a)(Object(p.a)({},e),{},{isRegistred:t.value});default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restore/CHANGE-ANSWER":return Object(p.a)(Object(p.a)({},e),{},{answer:t.answer});default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset/CHANGE-ANSWER":return Object(p.a)(Object(p.a)({},e),{},{answer:t.answer});case"reset/CHANGE-STATUS":return Object(p.a)(Object(p.a)({},e),{},{isReseted:t.isReseted});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/GET-CARDS":return Object(p.a)({},t.cards);case"cards/REMOVE-CARD-PACK":var a=Object(p.a)(Object(p.a)({},e),{},{cardPacks:e.cardPacks.filter((function(e){return e._id!==t.id}))});return a;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED":return Object(p.a)(Object(p.a)({},e),{},{isLogged:t.value});case"login/SET-IS-LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.value});default:return e}}}),Ae=Object(Ce.d)(_e,Object(Ce.a)(ke.a));s.a.render(r.a.createElement(m.a,{store:Ae},r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.83b6505c.chunk.js.map