(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{16:function(e,t,a){e.exports={inputStyle:"Input_inputStyle__2QB-t"}},22:function(e,t,a){e.exports={wrapper:"Module_wrapper__1Qv7L",active:"Module_active__1HbaY",content:"Module_content__HdWIa"}},31:function(e,t,a){e.exports={"loader-wrap":"Loading_loader-wrap__111Av",loader:"Loading_loader__VusMC",loaderWrapper:"Loading_loaderWrapper__22NCL",load:"Loading_load__14d-m"}},35:function(e,t,a){e.exports={registration:"Registration_registration__2o_uK"}},37:function(e,t,a){e.exports={div:"Paginator_div__31KoU",select:"Paginator_select__1ZCfo"}},50:function(e,t,a){e.exports={login:"Login_login__3zKks"}},53:function(e,t,a){e.exports={pageNotFound:"PageNotFound_pageNotFound__23x1H"}},54:function(e,t,a){e.exports={profile:"Profile_profile__3wQK-"}},55:function(e,t,a){e.exports={resetPass:"ResetPass_resetPass__BjB4R"}},56:function(e,t,a){e.exports={restorePass:"RestorePass_restorePass__2Zutx"}},57:function(e,t,a){e.exports={btn:"Button_btn__3fIXd"}},60:function(e,t,a){e.exports={cards:"Packs_cards__2OgjF"}},64:function(e,t,a){e.exports=a(94)},69:function(e,t,a){},73:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),l=a.n(c),s=a(9),i=a.n(s),o=(a(69),a(1)),u=a(8),d=(a(73),a(31)),m=a.n(d),p=function(){return l.a.createElement("div",{className:m.a.load},l.a.createElement("div",{className:m.a.loaderWrapper},l.a.createElement("div",{className:"preloader-wrapper big active"},l.a.createElement("div",{className:"spinner-layer spinner-blue"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))))))},E=a(4),f=function(e){return l.a.createElement("div",null,l.a.createElement(u.b,{to:e.to},e.title))},v=a(2),b=a(18),g=a.n(b),h=g.a.create(Object(v.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),w=function(e){return h.post("/auth/login",e)},N=function(){return h.post("/auth/me",{})},O=function(){return h.delete("/auth/me",{})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0updates",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return h.get("/cards/pack?packName=".concat(e,"&min=").concat(t,"&max=").concat(a,"&sortPacks=").concat(n,"&page=").concat(r,"&pageCount=").concat(c,"&user_id=").concat(l))},P=function(e){return h.post("/cards/pack",{cardsPack:e})},C=function(e){return h.delete("/cards/pack?id=".concat(e))},y=function(e){return h.put("cards/pack",{cardsPack:e})},k={isLogged:!1,isLoading:!1,isRequestAuthMe:!1},S=function(e){return{type:"login/SET-IS-LOGGED",value:e}},_=function(e){return{type:"login/SET-IS-REQUEST-AUTH-ME",value:e}},A=function(e){return{type:"login/SET-IS-LOADING",value:e}},R={_id:"",email:"",name:"",publicCardPacksCount:NaN,created:null,updated:null,verified:!1,rememberMe:!1,error:""},x=function(e){return{type:"profile/SET-UP-PROFILE",data:e}},T=function(){return function(e){e(A(!0)),N().then((function(t){e(A(!1)),e(x(t.data)),e(S(!0))})).catch((function(t){e(A(!1))}))}},I={isLogged:!1,error:""},L=function(e){return{type:"login/SET-ERROR-LOGIN",error:e}},M=function(){var e=Object(o.c)((function(e){return e.app.isLogged})),t=Object(o.b)();return l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper teal lighten-1"},l.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down  teal lighten-1"},l.a.createElement("li",null,e?l.a.createElement("button",{className:"btn btn-flat teal lighten-1",onClick:function(){t((function(e){e(A(!0)),O().then((function(t){e(A(!1)),e(S(!1)),e(_(!1))})).catch((function(t){e(A(!1)),e(L(t.message))}))}))}},"Logout"):l.a.createElement(f,{to:"/login",title:"Login"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/restorePassword",title:"Restore password"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/profile",title:"Profile"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/packs",title:"Packs"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/card",title:"Card"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/resetPassword",title:"Reset password"})),l.a.createElement("li",null,l.a.createElement(f,{to:"/registration",title:"Registration"})))))},q=a(50),G=a.n(q),U=a(16),F=a.n(U),D=a(7),V=l.a.memo((function(e){var t=Object(o.c)((function(e){return e.app.isLogged})),a=Object(o.c)((function(e){return e.login.error})),n=Object(o.c)((function(e){return e.app.isLoading})),r=Object(o.c)((function(e){return e.app.isRequestAuthMe})),s=Object(o.b)();Object(c.useEffect)((function(){r||s(T())}),[]);var i=Object(D.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",t},onSubmit:function(e){var t;s((t=e,function(e){e(A(!0)),w(t).then((function(t){e(A(!1)),e(x(t.data)),e(S(!0)),e(_(!0))})).catch((function(t){e(A(!1)),e(L(t.message))}))}))}});return t?l.a.createElement(E.a,{to:"/profile"}):l.a.createElement("div",{className:G.a.login},l.a.createElement("h2",null,"Login Page"),l.a.createElement("form",{onSubmit:i.handleSubmit},l.a.createElement("div",null,l.a.createElement("input",Object.assign({className:F.a.inputStyle,name:"email",type:"text",placeholder:"E-mail"},i.getFieldProps("email"))),i.values.email?l.a.createElement("div",{style:{color:"red"}},i.errors.email):null),l.a.createElement("div",null,l.a.createElement("input",Object.assign({className:F.a.inputStyle,name:"password",type:"password",placeholder:"Password"},i.getFieldProps("password"))),i.values.password?l.a.createElement("div",{style:{color:"red"}},i.errors.password):null),l.a.createElement("div",null,l.a.createElement("span",null,"Remember Me "),l.a.createElement("input",Object.assign({type:"checkbox"},i.getFieldProps("rememberMe"),{checked:i.values.rememberMe}))),l.a.createElement("div",null,l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",disabled:n},"Login"))),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null,a&&l.a.createElement("div",null," $",a," ")))})),H=function(){Object(o.c)((function(e){return e.login})),Object(o.b)();return l.a.createElement(V,null)},Z=a(53),W=a.n(Z),B=function(){return l.a.createElement(E.b,{exact:!0,path:"/"})?l.a.createElement(E.a,{to:"/login"}):l.a.createElement("div",{className:W.a.pageNotFound},l.a.createElement("h2",null,l.a.createElement("div",null,l.a.createElement("span",null,"PAGE NOT FOUND")),l.a.createElement("div",null,l.a.createElement("span",null,"404 ERROR!"))))},Q=g.a.create(Object(v.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),$=function(e,t){return Q.post("auth/set-new-password",{password:e,resetPasswordToken:t})},K={answer:"",isRestored:!1},z=function(e){return{type:"restore/CHANGE-STATUS",isRestored:e}},X=a(54),J=a.n(X),Y=function(e){var t=Object(o.c)((function(e){return e.app.isLogged})),a=Object(o.c)((function(e){return e.profile})),n=(Object(o.c)((function(e){return e.app.isLoading})),Object(o.c)((function(e){return e.app.isRequestAuthMe}))),r=Object(o.b)();return Object(c.useEffect)((function(){n||r(T())}),[]),t?l.a.createElement("div",{className:J.a.profile},l.a.createElement("div",null,"Email: ",a.email),l.a.createElement("div",null,"Name: ",a.name),l.a.createElement("div",null,"Created: ",a.created),l.a.createElement("div",null,"publicCardPacksCount: ",a.publicCardPacksCount)):l.a.createElement(E.a,{to:"/login"})},ee=function(){var e=Object(o.c)((function(e){return e.restorePassword.isRestored})),t=Object(o.b)();return e&&t(z(!1)),l.a.createElement(Y,null)},te=a(35),ae=a.n(te),ne=g.a.create(Object(v.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),re=function(e){return ne.post("auth/register",{email:e.email,password:e.password})},ce={isRegistred:!1},le=function(e){var t=Object(o.c)((function(e){return e.registration.isRegistred})),a=(Object(o.c)((function(e){return e.app.isLoading})),Object(o.b)()),n=Object(D.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.repeatPassword?e.repeatPassword.length<7&&(t.repeatPassword="Password must equal or be more than 7 characters"):t.repeatPassword="Required",e.password!==e.repeatPassword&&(t.repeatPassword="Password should be the same!"),t},onSubmit:function(e){var t;a((t={email:e.email,password:e.password},function(e){e(A(!0)),re(t).then((function(t){e(A(!1)),e({type:"CREATE-REGISTRATION",value:!0})})).catch((function(t){e(A(!1))}))}))}});return t?l.a.createElement(E.a,{to:"/profile"}):l.a.createElement("div",{className:ae.a.registration},l.a.createElement("h2",null,"Registration Page"),l.a.createElement("div",{className:ae.a.login},l.a.createElement("form",{onSubmit:n.handleSubmit},l.a.createElement("div",null,l.a.createElement("input",Object.assign({className:F.a.inputStyle,type:"text",placeholder:"E-mail",name:"email"},n.getFieldProps("email"))),n.values.email?l.a.createElement("div",{style:{color:"red"}},n.errors.email):null),l.a.createElement("div",null,l.a.createElement("input",Object.assign({className:F.a.inputStyle,type:"password",placeholder:"Password",name:"password"},n.getFieldProps("password"))),n.values.password?l.a.createElement("div",{style:{color:"red"}},n.errors.password):null),l.a.createElement("div",null,l.a.createElement("input",Object.assign({className:F.a.inputStyle,type:"password",placeholder:"Password",name:"repeatPassword"},n.getFieldProps("repeatPassword"))),n.values.repeatPassword?l.a.createElement("div",{style:{color:"red"}},n.errors.repeatPassword):null),l.a.createElement("div",null,l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",disabled:n.values.password!==n.values.repeatPassword},"Registration")))))},se=function(){Object(o.c)((function(e){return e.registration})),Object(o.b)();return l.a.createElement(le,null)},ie=g.a.create(Object(v.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),oe=function(e){return ie.post("auth/forgot",{email:e,from:"Almashiy <shein_92@ukr.net>",message:"<div style=\"background-color: lime; padding: 15px\">\n            \tpassword recovery link: \n\t\t\t\t<a href='https://shein92.github.io/cards/#/restorePassword/$token$'>\n            \tlink</a></div>"})},ue={answer:"",isReseted:!1},de=function(e){return{type:"reset/CHANGE-ANSWER",answer:e}},me=a(55),pe=a.n(me),Ee=l.a.memo((function(){var e=Object(o.c)((function(e){return e.resetPassword.answer})),t=Object(o.c)((function(e){return e.resetPassword.isReseted})),a=Object(o.b)(),n=Object(D.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email adress"):t.email="Requires",t},onSubmit:function(e){var t;a((t=e.email,function(e){e(A(!0)),oe(t).then((function(t){e(A(!1)),e(de(t.data.info))})).catch((function(t){e(A(!1)),e(de(t.message)),console.log(t)}))}))}});return t?l.a.createElement(E.a,{to:"/profile"}):l.a.createElement("div",{className:pe.a.resetPass},l.a.createElement("form",{onSubmit:n.handleSubmit},l.a.createElement("div",null,l.a.createElement("span",null,"Your email adress: ")),l.a.createElement("input",{className:F.a.inputStyle,name:"email",type:"text",placeholder:"E-mail",onChange:n.handleChange,value:n.values.email}),n.values.email?l.a.createElement("div",{style:{color:"red"}},n.errors.email):null,l.a.createElement("div",null,l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit"},"Submit"))),e)})),fe=a(56),ve=a.n(fe),be=a(57),ge=a.n(be),he=l.a.memo((function(){var e=Object(o.c)((function(e){return e.restorePassword.answer})),t=Object(o.c)((function(e){return e.restorePassword.isRestored})),a=(Object(o.c)((function(e){return e.app.isLoading})),Object(o.b)()),n=Object(E.g)().token,r=Object(D.a)({initialValues:{password:"",secondPassword:""},validate:function(e){var t={};return e.password?e.password.length<7&&(t.password="Password must be equal or more than 7 characters"):t.password="Required",e.secondPassword?e.secondPassword.length<7&&(t.secondPassword="Password must be equal or more than 7 characters"):t.secondPassword="Required",e.password!==e.secondPassword&&(t.secondPassword="Password should be the same!"),t},onSubmit:function(e){a(function(e,t){return function(a){a(A(!0)),$(e,t).then((function(e){a(A(!1)),a({type:"restore/CHANGE-ANSWER",answer:e.data.info}),a(z(!0))})).catch((function(e){a(A(!1)),console.log(e.error)}))}}(e.password,n))}});return t?l.a.createElement(E.a,{to:"/profile"}):l.a.createElement("div",{className:ve.a.restorePass,style:{textAlign:"center"}},l.a.createElement("form",{onSubmit:r.handleSubmit},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",null,"Password: ")),l.a.createElement("input",{className:F.a.inputStyle,type:"password",name:"password",placeholder:"Password",onChange:r.handleChange,value:r.values.password}),r.values.password?l.a.createElement("div",{style:{color:"red"}},r.errors.password):null),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",null,"Repeat password")),l.a.createElement("input",{className:F.a.inputStyle,type:"password",name:"secondPassword",placeholder:"Password",onChange:r.handleChange,value:r.values.secondPassword}),r.values.secondPassword?l.a.createElement("div",{style:{color:"red"}},r.errors.secondPassword):null),l.a.createElement("div",null,l.a.createElement("button",{className:ge.a.btn,type:"submit",disabled:r.values.password!==r.values.secondPassword},"Send"))),l.a.createElement("div",null,e))})),we=a(11),Ne=a(63),Oe=(a(93),{cardPacks:[],cardPacksTotalCount:0,maxCardsCount:0,page:0,pageCount:10,min:0,max:20,packName:"",sortPacks:"0updated",user_id:""}),je=function(e){return{type:"cards/GET-CARDS",cards:e}},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0updates",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,l=arguments.length>6?arguments[6]:void 0;return function(s){s(A(!0)),j(e,t,a,n,r,c,l).then((function(e){s(A(!1)),s(je(e.data))})).catch((function(e){s(A(!1))}))}},Ce=function(e){return function(t){t(A(!0)),y(e).then((function(e){t(Pe()),t(A(!1))})).catch((function(e){t(A(!1))}))}},ye=a(37),ke=a.n(ye),Se=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,r=e.portionsSize,s=e.onChangePage,i=e.onChangeCountOnPage,o=Object(c.useState)(1),u=Object(we.a)(o,2),d=u[0],m=u[1],p=Math.ceil(t/a),E=[],f=1;f<p;f++)E.push(f);E[E.length-1];var v=Math.ceil(p/r),b=(d-1)*r+1,g=d*r;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s6"},l.a.createElement("div",{className:ke.a.div},l.a.createElement("ul",{className:"pagination"},d>1&&l.a.createElement("li",{onClick:function(){return m(d-1)},className:"disabled"},l.a.createElement("i",{className:"material-icons"},"chevron_left")),E.filter((function(e){return e>=b&&e<=g})).map((function(e){return l.a.createElement("li",{onClick:function(){return s(e)},key:e,className:n===e?"active teal lighten-1":"waves-effect"},e)})),v>d&&l.a.createElement("li",{onClick:function(){return m(d+1)},className:"waves-effect"},l.a.createElement("i",{className:"material-icons"},"chevron_right"))))),l.a.createElement("div",{className:"col s1"},l.a.createElement("div",{className:ke.a.select},l.a.createElement("select",{className:"browser-default",onChange:function(e){return i(+e.target.value)}},l.a.createElement("option",{value:"10",selected:10===p},"10"),l.a.createElement("option",{value:"20",selected:20===p},"20"),l.a.createElement("option",{value:"30",selected:30===p},"30"),l.a.createElement("option",{value:"40",selected:40===p},"40"),l.a.createElement("option",{value:"50",selected:50===p},"50")))))},_e=function(e){var t=Object(o.b)();return l.a.createElement(l.a.Fragment,null,e.isArrowDown?l.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){Pe()&&(t(Pe(e.packName,e.min,e.max,e.filterUp,e.page,e.pageCount)),e.setIsArrowDown(!1))}}," \u2193 "):l.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){Pe()&&(t(Pe(e.packName,e.min,e.max,e.filterDown,e.page,e.pageCount)),e.setIsArrowDown(!0))}}," \u2191"))},Ae=function(e){var t=Object(o.c)((function(e){return e.profile._id})),a=Object(o.c)((function(e){return e.cards})),n=a.cardPacksTotalCount,r=a.page,s=a.pageCount,i=a.packName,d=a.min,m=a.max,p=a.sortPacks,E=Object(o.b)(),f=Object(c.useState)(!1),v=Object(we.a)(f,2),b=v[0],g=v[1],h=Object(c.useState)(!1),w=Object(we.a)(h,2),N=w[0],O=w[1],j=Object(c.useState)(!1),P=Object(we.a)(j,2),C=P[0],y=P[1];Object(c.useEffect)((function(){e.filterById?E(Pe(i,d,m,p,r,s,t)):E(Pe(i,d,m,p,r,s))}),[r,s,i,d,m,p,e.filterById,E]);var k=e.cards.map((function(a){return l.a.createElement("tr",{key:a._id},l.a.createElement(u.b,{to:"card/".concat(a._id)},l.a.createElement("td",null,a.name)),l.a.createElement("td",null,a.user_name),l.a.createElement("td",null,a.cardsCount),l.a.createElement("td",null,a.rating),l.a.createElement("td",null,a.shots),l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{style:{marginRight:"5px"},disabled:t!==a.user_id,onClick:function(){return t=a._id,n=a.name,void e.updateHandler(t,n);var t,n},className:"btn waves-effect waves-light",type:"submit",name:"action"},l.a.createElement("i",{className:"material-icons"},"edit")),l.a.createElement("button",{disabled:t!==a.user_id,onClick:function(){return t=a._id,void e.removeCardPack(t);var t},className:"btn red waves-effect waves-light",type:"submit",name:"action"},l.a.createElement("i",{className:"material-icons"},"delete_forever"))))))}));return l.a.createElement("div",null,l.a.createElement("table",{className:"highlight"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name ",l.a.createElement(_e,{filterDown:"0name",filterUp:"1name",isArrowDown:b,setIsArrowDown:g,max:m,min:d,page:r,pageCount:s})),l.a.createElement("th",null,"User Name ",l.a.createElement(_e,{filterDown:"0user_name",filterUp:"1user_name",isArrowDown:N,setIsArrowDown:O,max:m,min:d,page:r,pageCount:s})),l.a.createElement("th",null,"Cards Count ",l.a.createElement(_e,{filterDown:"0cardsCount",filterUp:"1cardsCount",isArrowDown:C,setIsArrowDown:y,max:m,min:d,page:r,pageCount:s})),l.a.createElement("th",null,"Rating"),l.a.createElement("th",null,"Shots"),l.a.createElement("th",null,"Manage"))),l.a.createElement("tbody",null,k)),l.a.createElement("div",null,n>s&&l.a.createElement(Se,{totalItemsCount:n,pageSize:s,currentPage:r,portionsSize:10,onChangePage:function(e){E(function(e){return{type:"cards/SET-CURRENT-PAGE",currentPage:e}}(e))},onChangeCountOnPage:function(e){E(function(e){return{type:"cards/SET-PAGE-COUNT",count:e}}(e))}})))},Re=function(e){var t=e.setModalActive,a=Object(o.b)(),n=Object(D.a)({initialValues:{name:"",path:""},onSubmit:function(e){var n;a((n=e,function(e){e(A(!0)),P(n).then((function(t){e(Pe()),e(A(!1))})).catch((function(t){e(A(!1))}))})),t(!1),e.name="",e.path=""}});return l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s12",onSubmit:n.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",Object.assign({placeholder:"Name",id:"name",name:"name",type:"text",className:"validate"},n.getFieldProps("name"))),l.a.createElement("label",{htmlFor:"name",className:"active"})),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",Object.assign({placeholder:"Path",id:"path",name:"path",type:"text",className:"validate"},n.getFieldProps("path"))),l.a.createElement("label",{htmlFor:"path",className:"active"})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Create",l.a.createElement("i",{className:"material-icons right"},"add"))))))},xe=a(60),Te=a.n(xe),Ie=a(22),Le=a.n(Ie),Me=function(e){var t=e.modalActive,a=e.setModalActive,n=e.children;return l.a.createElement("div",{className:t?"".concat(Le.a.wrapper," ").concat(Le.a.active):Le.a.wrapper,onClick:function(){return a(!1)}},l.a.createElement("div",{className:t?"".concat(Le.a.content," ").concat(Le.a.active):Le.a.content,onClick:function(e){return e.stopPropagation()}},n))},qe=a(38),Ge=a.n(qe),Ue=a(61),Fe=function(e){var t=e.id,a=e.name,n=e.setUpdateModalActive,r=Object(o.b)(),c=Object(D.a)({initialValues:{_id:t,name:a},onSubmit:function(){var e=Object(Ue.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(Ce(t));case 3:n(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()});return l.a.createElement("form",{className:"col s12",onSubmit:c.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",Object.assign({placeholder:"Name",id:"name",name:"name",type:"text",className:"validate"},c.getFieldProps("name"))),l.a.createElement("label",{htmlFor:"name",className:"active"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Update",l.a.createElement("i",{className:"material-icons right"},"update")))))},De=function(e){var t=Object(o.c)((function(e){return e.app.isLogged})),a=(Object(o.c)((function(e){return e.app.isLoading})),Object(o.c)((function(e){return e.cards.cardPacks}))),s=Object(c.useState)(!1),i=Object(we.a)(s,2),u=i[0],d=i[1],m=Object(c.useState)(!1),p=Object(we.a)(m,2),f=p[0],v=p[1],b=Object(c.useState)(!1),g=Object(we.a)(b,2),h=g[0],w=g[1],N=Object(c.useState)([0,20]),O=Object(we.a)(N,2),j=O[0],P=O[1],y=Object(o.b)(),k=Object(D.a)({initialValues:{text:""},onSubmit:function(e){y(Pe(e.text))}});return t?l.a.createElement("div",null,l.a.createElement("div",{className:Te.a.cards},l.a.createElement("div",{className:"col s6"},l.a.createElement("h1",null,"Packs"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s2"},l.a.createElement("button",{onClick:function(){return d(!0)},className:"btn waves-effect waves-light",type:"submit",name:"action"},"New Pack",l.a.createElement("i",{className:"material-icons right"},"add"))),l.a.createElement("div",{className:"col s4"},l.a.createElement("form",{className:"col s12",onSubmit:k.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s9"},l.a.createElement("input",Object.assign({placeholder:"Text",id:"text",name:"text",type:"text",className:"validate"},k.getFieldProps("text"))),l.a.createElement("label",{htmlFor:"text",className:"active"})),l.a.createElement("div",{className:"col s2"},l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Search",l.a.createElement("i",{className:"material-icons right"},"search")))))),l.a.createElement("div",{className:"col s1"},l.a.createElement("p",null,l.a.createElement("label",null,l.a.createElement("input",{onChange:function(e){return t=e.target.checked,void w(t);var t},type:"checkbox",className:"filled-in",name:"uid",checked:h}),l.a.createElement("span",null,"My packs")))),l.a.createElement("div",{className:"col s3"},l.a.createElement("span",null,"From ",j[0]," to ",j[1]),l.a.createElement(Ne.a,{min:0,max:20,defaultValue:j,pushable:!0,step:1,onChange:function(e){P(e)}})),l.a.createElement("div",{className:"col s2"},l.a.createElement("button",{onClick:function(){y(function(e){return{type:"cards/SET-MIN-MAX-VALUE",value:e}}(j))},className:"btn waves-effect waves-light"},"Apply",l.a.createElement("i",{className:"material-icons right"},"done")))),l.a.createElement(Ae,{cards:a,removeCardPack:function(e){y(function(e){return function(t){t(A(!0)),C(e).then((function(a){t(A(!1)),t(function(e){return{type:"cards/REMOVE-CARD-PACK",id:e}}(e))})).catch((function(e){t(A(!1))}))}}(e))},updateHandler:function(e,t){n=e,r=t,v(!0)},filterById:h})),l.a.createElement(Me,{modalActive:u,setModalActive:d},l.a.createElement(Re,{setModalActive:d})),l.a.createElement(Me,{modalActive:f,setModalActive:v},n&&l.a.createElement(Fe,{id:n,name:r,setUpdateModalActive:v})))):l.a.createElement(E.a,{to:"/login"})},Ve=g.a.create(Object(v.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),He=function(e){return Ve.get("cards/card?cardsPack_id=".concat(e))},Ze=function(e,t,a){return Ve.post("cards/card",{card:{cardsPack_id:e,question:t,answer:a}})},We=function(e){return Ve.delete("cards/card?id=".concat(e))},Be=function(e,t,a){return Ve.put("cards/card",{card:{_id:e,question:t,comments:a}})},Qe={cards:[],cardsTotalCount:0,maxGrade:0,minGrade:0,page:0,pageCount:10,cardAnswer:"",cardQuestion:"",min:0,max:20},$e=function(e){return{type:"card/GET-CARD",card:e}},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"4",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"7",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"english",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"english";return function(s){s(A(!0)),He(e,t,a,n,r,c,l).then((function(e){s(A(!1)),s($e(e.data))})).catch((function(e){s(A(!1)),console.log(e.message)}))}},ze=function(e){var t=Object(o.b)(),a=Object(D.a)({initialValues:{question:"",answer:""},onSubmit:function(a){var n,r,c;t((n=e.packId,r=a.question,c=a.answer,function(e){e(A(!0)),Ze(n,r,c).then((function(t){e(Ke(n)),e(A(!1))})).catch((function(t){e(A(!1)),console.log(t.message)}))})),e.setAddNewCardModal(!1),a.answer="",a.question=""}});return l.a.createElement("div",{className:"row"},l.a.createElement("form",{className:"col s12",onSubmit:a.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",Object.assign({placeholder:"Question",id:"question",name:"question",type:"text",className:"validate"},a.getFieldProps("question"))),l.a.createElement("label",{htmlFor:"question",className:"active"})),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",Object.assign({placeholder:"Answer",id:"answer",name:"answer",type:"text",className:"validate"},a.getFieldProps("answer"))),l.a.createElement("label",{htmlFor:"answer",className:"active"})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Add card",l.a.createElement("i",{className:"material-icons right"},"add"))))))},Xe=function(e){var t=Object(o.c)((function(e){return e.profile._id})),a=e.card.map((function(a){return l.a.createElement("tr",{key:a._id},l.a.createElement("td",null,a.question),l.a.createElement("td",null,a.answer),l.a.createElement("td",null,a.rating),l.a.createElement("td",null,a.updated),l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{style:{marginRight:"5px"},disabled:t!==a.user_id,onClick:function(){return t=a._id,n=a.question,void e.updateCardName(t,n);var t,n},className:"btn waves-effect waves-light",type:"submit",name:"action"},l.a.createElement("i",{className:"material-icons"},"edit")),l.a.createElement("button",{disabled:t!==a.user_id,onClick:function(){return t=a._id,void e.removeCard(t);var t},className:"btn red waves-effect waves-light",type:"submit",name:"action"},l.a.createElement("i",{className:"material-icons"},"delete_forever"))))))}));return l.a.createElement("div",null,l.a.createElement("table",{className:"highlight"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Question"),l.a.createElement("th",null,"Answer"),l.a.createElement("th",null,"Rating"),l.a.createElement("th",null,"Updated"),l.a.createElement("th",null,"Manage"))),l.a.createElement("tbody",null,a)))},Je=function(e){var t=Object(o.b)(),a=Object(D.a)({initialValues:{id:e.id,question:e.name},onSubmit:function(a){var n,r,c;t((n=a.id,r=a.question,c=e.packId,function(e){e(A(!0)),Be(n,r).then((function(t){e(A(!1)),e(Ke(c))})).catch((function(t){e(A(!1)),console.log(t.message)}))})),e.setNewCardNameModal(!1)}});return l.a.createElement("form",{className:"col s12",onSubmit:a.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",Object.assign({placeholder:"Question",id:"question",name:"question",type:"text",className:"validate"},a.getFieldProps("question"))),l.a.createElement("label",{htmlFor:"question",className:"active"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},"Update",l.a.createElement("i",{className:"material-icons right"},"update")))))},Ye="",et="",tt=function(e){var t=Object(o.c)((function(e){return e.app.isLogged})),a=(Object(o.c)((function(e){return e.app.isLoading})),Object(o.c)((function(e){return e.card.cards}))),n=Object(c.useState)(!1),r=Object(we.a)(n,2),s=r[0],i=r[1],u=Object(c.useState)(!1),d=Object(we.a)(u,2),m=d[0],p=d[1],f=Object(E.g)().packId,v=Object(o.b)();if(Object(c.useEffect)((function(){v(Ke(f))}),[]),!t)return l.a.createElement(E.a,{to:"/login"});return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",null,"Card"),l.a.createElement("button",{onClick:function(){return i(!0)},className:"btn waves-effect waves-light",type:"submit"},"New card",l.a.createElement("i",{className:"material-icons right"},"add")),l.a.createElement(Xe,{card:a,updateCardName:function(e,t){Ye=e,et=t,p(!0)},removeCard:function(e){v(function(e){return function(t){t(A(!0)),We(e).then((function(a){t({type:"card/REMOVE-CARD",cardId:e}),t(A(!1))})).catch((function(e){t(A(!1)),console.log(e.message)}))}}(e))}})),l.a.createElement(Me,{modalActive:s,setModalActive:i},l.a.createElement(ze,{setAddNewCardModal:i,packId:f})),l.a.createElement(Me,{modalActive:m,setModalActive:p},!!Ye&&!!et&&l.a.createElement(Je,{id:Ye,name:et,setNewCardNameModal:p,packId:f})))},at=function(){return l.a.createElement("div",null,l.a.createElement(M,null),l.a.createElement(E.d,null,l.a.createElement(E.b,{path:"/login",render:function(){return l.a.createElement(H,null)}}),l.a.createElement(E.b,{path:"/restorePassword/:token",render:function(){return l.a.createElement(he,null)}}),l.a.createElement(E.b,{path:"/resetPassword",render:function(){return l.a.createElement(Ee,null)}}),l.a.createElement(E.b,{path:"/profile",render:function(){return l.a.createElement(ee,null)}}),l.a.createElement(E.b,{path:"/packs",render:function(){return l.a.createElement(De,null)}}),l.a.createElement(E.b,{path:"/card/:packId",render:function(){return l.a.createElement(tt,null)}}),l.a.createElement(E.b,{path:"/card",render:function(){return l.a.createElement(tt,null)}}),l.a.createElement(E.b,{path:"/registration",render:function(){return l.a.createElement(se,null)}}),l.a.createElement(E.b,{render:function(){return l.a.createElement(B,null)}})))},nt=function(){var e=Object(o.c)((function(e){return e.app.isLoading}));return l.a.createElement("div",{className:"App"},e&&l.a.createElement(p,null),l.a.createElement(u.a,null,l.a.createElement(at,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt={},ct=a(25),lt=a(62),st=Object(ct.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-ERROR-LOGIN":return Object(v.a)(Object(v.a)({},e),{},{error:t.error});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET-UP-PROFILE":return Object(v.a)(Object(v.a)({},e),t.data);default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE-REGISTRATION":return Object(v.a)(Object(v.a)({},e),{},{isRegistred:t.value});default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restore/CHANGE-ANSWER":return Object(v.a)(Object(v.a)({},e),{},{answer:t.answer});default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset/CHANGE-ANSWER":return Object(v.a)(Object(v.a)({},e),{},{answer:t.answer});case"reset/CHANGE-STATUS":return Object(v.a)(Object(v.a)({},e),{},{isReseted:t.isReseted});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/GET-CARDS":return Object(v.a)(Object(v.a)({},e),t.cards);case"cards/REMOVE-CARD-PACK":var a=Object(v.a)(Object(v.a)({},e),{},{cardPacks:e.cardPacks.filter((function(e){return e._id!==t.id}))});return a;case"cards/SET-CURRENT-PAGE":return Object(v.a)(Object(v.a)({},e),{},{page:t.currentPage});case"cards/SET-PAGE-COUNT":return Object(v.a)(Object(v.a)({},e),{},{pageCount:t.count});case"cards/SET-MIN-MAX-VALUE":return Object(v.a)(Object(v.a)({},e),{},{min:t.value[0],max:t.value[1]});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"card/GET-CARD":return Object(v.a)(Object(v.a)({},e),{},{cards:t.card.cards,cardsTotalCount:t.card.cardsTotalCount,maxGrade:t.card.maxGrade,minGrade:t.card.minGrade,page:t.card.page,pageCount:t.card.pageCount});case"card/REMOVE-CARD":return Object(v.a)(Object(v.a)({},e),{},{cards:e.cards.filter((function(e){return e._id!==t.cardId}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED":return Object(v.a)(Object(v.a)({},e),{},{isLogged:t.value});case"login/SET-IS-LOADING":return Object(v.a)(Object(v.a)({},e),{},{isLoading:t.value});case"login/SET-IS-REQUEST-AUTH-ME":return Object(v.a)(Object(v.a)({},e),{},{isRequestAuthMe:!0});default:return e}}}),it=Object(ct.d)(st,Object(ct.a)(lt.a));i.a.render(l.a.createElement(o.a,{store:it},l.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.99172ccc.chunk.js.map